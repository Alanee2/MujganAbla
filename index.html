<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Müjgan Ablayı Neden Seviyoruz</title>
<style>
body {font-family:sans-serif; background:#f0f0f0; padding:20px;}
h1 {color:#d6336c;}
textarea,input{width:100%;margin-top:10px;padding:8px;border-radius:5px;border:1px solid #ccc;}
button{margin-top:10px;padding:10px;background:#d6336c;color:white;border:none;border-radius:5px;cursor:pointer;}
ul{list-style:none;padding:0;}
li{background:white;padding:10px;margin-top:10px;border-radius:5px;}
</style>
</head>
<body>
<h1>Müjgan Ablayı Neden Seviyoruz?</h1>
<textarea id="text" placeholder="Sebebinizi yazın..."></textarea>
<input id="author" placeholder="İsminiz (opsiyonel)">
<button onclick="sendMessage()">Gönder</button>

<ul id="messages"></ul>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "FIREBASE_API_KEY",
  authDomain: "FIREBASE_PROJECT_ID.firebaseapp.com",
  databaseURL: "https://FIREBASE_PROJECT_ID.firebaseio.com",
  projectId: "FIREBASE_PROJECT_ID",
  storageBucket: "FIREBASE_PROJECT_ID.appspot.com",
  messagingSenderId: "SENDER_ID",
  appId: "APP_ID"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

function sendMessage(){
  const text = document.getElementById("text").value.trim();
  const author = document.getElementById("author").value.trim() || "Anon";
  if(!text) return alert("Lütfen bir sebep yazın!");
  const msg = {author,text,timestamp:Date.now()};
  db.ref("messages").push(msg);
  document.getElementById("text").value="";
}

function renderMessages(){
  const list = document.getElementById("messages");
  list.innerHTML="";
  db.ref("messages").orderByChild("timestamp").on("value",snapshot=>{
    list.innerHTML="";
    snapshot.forEach(child=>{
      const li = document.createElement("li");
      const msg = child.val();
      li.textContent = `${msg.author}: ${msg.text}`;
      list.prepend(li);
    });
  });
}

renderMessages();
</script>
</body>
</html>
